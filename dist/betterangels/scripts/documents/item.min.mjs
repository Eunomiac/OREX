/* ▌██░░ betterangels v0.0.1-prealpha (2021) ║ MIT License ║ https://github.com/Eunomiac/betterangels ░░██▐ */export default class extends Item{prepareData(){super.prepareData()}getRollData(){if(!this.actor)return null;const t=this.actor.getRollData();return t.item=foundry.utils.deepClone(this.data.data),t}async roll(){const t=this.data,e=ChatMessage.getSpeaker({actor:this.actor}),a=game.settings.get("core","rollMode"),r=`[${t.type}] ${t.name}`;if(this.data.data.formula){const t=this.getRollData(),o=new Roll(t.item.formula,t).roll();return o.toMessage({speaker:e,rollMode:a,flavor:r}),o}return ChatMessage.create({speaker:e,rollMode:a,flavor:r,content:t.data.description??""}),!1}}