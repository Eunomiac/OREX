import{C as e,U as o,XItem as t,XGroup as r,XPool as n,XDie as a,XTermType as i,XOrbitType as s,XRoll as l}from"./bundler.js";const c=(o,t,...r)=>{if(e.o){const e=Object.entries({...d.t,...d[o]??{}}).map((([e,o])=>`${e}: ${o};`)).join(" ");r.length?"NOGROUP"===r[0]?console.log(`%c${t}`,e):(console.groupCollapsed(`%c${t}`,e,...r),console.trace(),console.groupEnd()):console.groupCollapsed(`%c${t}`,e)}},d={title:{background:"linear-gradient(to right,#da1b60,#ff8a00)",color:"#100e17","font-family":"Candal","font-size":"18px",padding:"0 30px 0 10px","margin-left":"-20px"},display:{background:"#EDB620",color:"black","font-family":"AlverataInformalW01-Regular","font-size":"16px",padding:"0 10px 0 10px","font-weight":"bold"},t:{background:"#000000",color:"#EDB620","font-family":"Pragmata Pro",padding:"0 20px 0 20px"},info:{background:"transparent",color:"white","font-size":"11px","font-weight":"normal","font-family":"Fira Code",padding:"0 30px 0 30px"},error:{color:"#FF0000",background:"#950A0F","font-weight":"bold",padding:"0 800px 0 50px"},groupEnd:{}},x={log:(e,...o)=>c("base",e,...o.length?o:["NOGROUP"]),title:e=>c("title",e,"NOGROUP"),display:(e,...o)=>c("display",e,...o.length?o:["NOGROUP"]),info:(e,...o)=>c("info",e,...o.length?o:["NOGROUP"]),error:(e,...o)=>c("error",e,...o.length?o:["NOGROUP"]),i:e=>c("base",e),l:e=>c("title",e),g:e=>c("display",e),p:e=>c("info",e),u:e=>c("error",e),groupEnd:()=>console.groupEnd()},g=["PositionXDie","ParentXArm","StretchXArm","ResumeRotation"],y={m:()=>{const e=new n(t.h,{id:"translate-box",P:["translate-box"],k:{set:{O:0,R:0},to:{x:"+=500",duration:5,D:"power3.inOut",repeat:-1,$:!0}}}),o=new r(e,{id:"scale-box-1",P:["scale-box"],k:{set:{O:0,R:0},to:{scale:2,duration:15,D:"sine.inOut",repeat:-1,$:!0}}}),s=new r(o,{id:"scale-box-2",P:["extra-scale-box"],k:{set:{O:0,R:0},to:{scale:3,duration:5,D:"sine.inOut",repeat:-1,$:!0}}}),l=new r(s,{id:"rotate-box-1",P:["rotate-box"],k:{set:{O:0,R:0},to:{rotation:"+=360",duration:2,D:"none",repeat:-1}}}),c=new r(l,{id:"rotate-box-2",P:["rotate-box"],k:{set:{O:0,R:0},to:{rotation:"-=360",duration:2,D:"power4.inOut",repeat:-1}}}),d=new a(c,{id:"test-die",type:i.v,value:3,color:"lime",size:50}),g=[{x:.5,y:0,background:"yellow"},{x:0,y:1,background:"cyan"},{x:1,y:1,background:"magenta"}].map((({x:e,y:o,background:r},n)=>new t(d,{id:`die-marker-${n+1}`,P:["x-marker"],k:{set:{height:10,width:10,x:50*e,y:50*o,background:r}}}))),y=["yellow","cyan","magenta"].map(((e,o)=>new t(t.h,{id:`x-marker-${o+1}`,P:["x-marker"],k:{set:{height:10,width:10,x:100+20*o,y:500+40*o,background:e}}})));y.forEach(((e,o)=>{e.C((()=>{g[o].A&&e.set(g[o].T)}))})),[d,...g,...y].forEach((e=>e.initialize())),x.log("Test Die Objs =>",g,y,e,o,l,d)},j:(o,{id:t,x:r,y:a,size:i=200,color:s="cyan"})=>new n(o,{id:t,k:{set:{height:i,width:i,left:r-.5*i,top:a-.5*i,G:s}},N:e.X}),U:({value:e,color:o="white",F:r="black",L:n="black",size:s=50}={})=>new a(t.h,{id:"x-die",type:i.v,value:e,color:o,F:r,L:n,size:s}),B:async()=>{const e=[{x:950,y:650,size:400,color:"rgba(255, 0, 0, 0.5)",I:{M:[6,"cyan",[2,"lime"]],S:[5,"silver",[3,"gold"],[4,"rgba(0, 0, 255, 0.5)"]],inner:[3,"red"]}}].map((async({x:e,y:r,size:n,color:l,I:c},d)=>{const g=y.j(t.h,{id:"POOL",x:e,y:r,size:n,color:l});await g.initialize(),globalThis.CIRCLE??=[],globalThis.CIRCLE.push(g);for(const[e,[r,n,...l]]of Object.entries(c)){for(let s=0;s<r;s++){const r=new a(t.h,{id:"xDie",type:i.v,value:o.W(0,9),color:"string"==typeof n?n:void 0});await g.q(r,e)||x.error(`Error rendering xDie '${r.id}'`)}if(l.length){x.log("Nested Pools",l);for(const[r,n]of l){const l=y.j(t.h,{id:"subPool",x:0,y:0,size:75,color:n});await g.q(l,e),await l.initialize();for(let e=0;e<r;e++){const e="xDie";try{await l.q(new a(t.h,{id:e,type:i.v,value:o.W(0,9),color:"string"==typeof n?n:void 0}),s.H)}catch(o){x.error(`Error rendering xDie '${e}'`,o)}}}}}}));return await Promise.allSettled(e),globalThis.POOLS=e,Promise.allSettled(e)},J:async(e,o={},r=[])=>{o={x:0,y:0,height:400,width:400,K:"white",V:"cyan",...o};const{K:n,V:c,...d}=o;d["G"]=c;const x=new l(t.h,{id:"ROLL",k:{set:d}});await x.initialize();let g=e.flatMap((e=>{const o=n;return[...new Array(e)].map((()=>new a(t.h,{id:"xDie",type:i.v,value:0,color:o})))}));return await Promise.allSettled(g.map((e=>e.initialize()))),r.forEach((e=>{const o=Math.floor(Math.random()*g.length);g=[...g.slice(0,o),e,...g.slice(o)]})),await x.Y({[s.H]:g}),x},Z:(e,o)=>{document.addEventListener("click",(async r=>{if(x.display("Click Event Triggered"),x.log(`Event Position: {x: ${r.pageX}, y: ${r.pageY}}`),x.log(`Focus Position: {x: ${e.global.x}, y: ${e.global.y}}`),x.log(`Distance: ${e._({x:r.pageX,y:r.pageY})}`),x.log(`Angle: ${e.ee({x:r.pageX,y:r.pageY})}`),o){const[n,a]=o,i=g.shift();switch(g.push(i),i){case"PositionXDie":e.oe(),t.h.te(a),a.set({x:r.pageX,y:r.pageY});break;case"ParentXArm":n.te(a,!0),n.set({outlineColor:"gold"});break;case"StretchXArm":n.re(),a.set({x:0,y:0,rotation:-1*n.global.rotation});break;case"ResumeRotation":e.ne()}x.log("Objects",{event:r,focus:e,ae:globalThis.ae,ie:globalThis.ie})}else x.log("Objects",{event:r,focus:e})}))},se:async e=>{const[o]=e.N.get(s.H)?.le??[];if(o?.A&&o.ce){const r=o.ce;t.h.te(o,!0),o.set({x:100,y:100,de:"magenta"}),Object.assign(globalThis,{ae:o,ie:r}),globalThis.Z(e,[r,o]),x.log("XArm Test Ready",{xe:e,ae:o,ie:r})}}};export{x as default,y as TESTS};