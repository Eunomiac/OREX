var t=this&&this.t||function(t,i,e,r){return new(e||(e=Promise))((function(s,h){function n(t){try{u(r.next(t))}catch(t){h(t)}}function o(t){try{u(r.i(t))}catch(t){h(t)}}function u(t){var i;t.done?s(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(n,o)}u((r=r.apply(t,i||[])).next())}))};import{gsap as i,MotionPathPlugin as e,U as r,XItem as s}from"../helpers/bundler.js";export default class h{constructor(t){var i,e;this.id=null!==(i=t.id)&&void 0!==i?i:`x-elem-${r.h()}`,this.o=t.o,this.u=null!==(e=t.l)&&void 0!==e?e:{},t.p||this.g()}get v(){return this.o.parent}m(){if(!this.$)throw Error(`[XELEM Error] Attempt to retrieve element of unrendered ${this.constructor.name}, id '${this.id}'`)}get _(){return this.m(),this.o.element[0]}get A(){return $(this._)}g(){return t(this,void 0,void 0,(function*(){this.j||(this.j=this.o.L(),yield this.j),this.v&&(yield this.v.O.g(),this.v.O.P(this.o,!1)),this.u.set&&this.set(this.u.set),this.u.to&&this.u.from?this.R(this.u.from,this.u.to):this.u.to?this.to(this.u.to):this.u.from&&this.from(this.u.from)}))}get $(){return this.o.D}P(t,i=!0){this.m(),t.O.m(),i&&this.set(this.M(t)),t.A.T(this._)}get X(){return r.get(this._,"x","px")}get k(){return r.get(this._,"y","px")}get q(){return{x:this.X,y:this.k}}get B(){return r.get(this._,"rotation")}get C(){return r.get(this._,"scale")}get F(){return this.v?e.G(this.v._,s.H._,this.q):this.q}get x(){return this.F.x}get y(){return this.F.y}get rotation(){let t=0,{v:i}=this;for(;i;){const e=r.get(i._,"rotation");"number"==typeof e&&(t+=e),i=i.parent}return t}get scale(){let t=1,{v:i}=this;for(;i;){const e=r.get(i._,"scale");"number"==typeof e&&(t*=e),i=i.parent}return t}get height(){return r.get(this._,"height","px")}get width(){return r.get(this._,"width","px")}get size(){return(this.height+this.width)/2}get I(){return this.height===this.width&&this.height}M(t,i){var r,h,n;return Object.assign(Object.assign({},e.G(s.H._,this._,null!==(r=null!=i?i:t.F)&&void 0!==r?r:{x:0,y:0})),{rotation:null!==(h=null==t?void 0:t.rotation)&&void 0!==h?h:0-this.rotation,scale:null!==(n=null==t?void 0:t.scale)&&void 0!==n?n:1/this.scale})}to(t){return this.m,i.to(this._,t)}from(t){return this.m,i.from(this._,t)}R(t,e){return this.m,i.R(this._,t,e)}set(t){return this.m,i.set(this._,t)}}