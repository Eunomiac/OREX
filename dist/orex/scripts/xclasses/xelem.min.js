import{gsap as t,MotionPathPlugin as e,U as s,XItem as i}from"../helpers/bundler.js";export default class r{constructor(t){this.t=i.i;const e=t.options;this.h=t,this.t=e.parent,!1!==e.o&&(this.t===XScope.i&&(this.t=i.i),this.u((()=>{var t;this.parent&&this.parent instanceof i&&(null===(t=this.parent.l)||void 0===t||t.g(this.h,!1))})))}get p(){return this.h}get v(){return this.h.element[0]}get parent(){return this.t}get m(){return s.get(this.v,"x","px")}get _(){return s.get(this.v,"y","px")}get j(){return{x:this.m,y:this._}}get O(){return s.get(this.v,"rotation")}get R(){return s.get(this.v,"scale")}get D(){return this.parent instanceof i?e.I(this.parent.v,i.i.v,this.j):this.j}get x(){return this.D.x}get y(){return this.D.y}get rotation(){let t=0,{parent:e}=this.h;for(;e instanceof i;){const i=s.get(e.v,"rotation");"number"==typeof i&&(t+=i),e=({parent:e}=e)}return t}get scale(){let t=1,{parent:e}=this.h;for(;e instanceof i;){const i=s.get(e.v,"scale");"number"==typeof i&&(t*=i),({parent:e}=e)}return t}L(t,s){var r,h,n;return Object.assign(Object.assign({},e.I(i.i.v,this.v,null!==(r=null!=s?s:t.D)&&void 0!==r?r:{x:0,y:0})),{rotation:null!==(h=null==t?void 0:t.rotation)&&void 0!==h?h:0-this.rotation,scale:null!==(n=null==t?void 0:t.scale)&&void 0!==n?n:1/this.scale})}P(){var t;return this.S=null!==(t=this.S)&&void 0!==t?t:this.h.T()}u(t){return this.h.X?t():this.P().then(t)}to(e){return this.u((()=>t.to(this.v,e)))}from(e){return this.u((()=>t.from(this.v,e)))}$(e,s){return this.u((()=>t.$(this.v,e,s)))}set(e){return this.u((()=>t.set(this.v,e)))}g(t,e=!0){this.u((()=>{e&&this.set(this.L(t)),$(t.v).appendTo(this.v)}))}get height(){return s.get(this.v,"height","px")}get width(){return s.get(this.v,"width","px")}get size(){return(this.height+this.width)/2}get k(){return this.height===this.width&&this.height}}