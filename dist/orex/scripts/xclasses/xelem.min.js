import{MotionPathPlugin as t,U as e,XItem as r}from"../helpers/bundler.js";export default class s{constructor(t){this.t=t}static i(t){return`/systems/orex/templates/${`${t}.html`.replace(/\.*\/*\\*(?:systems|orex|templates)\/*\\*|(\..{2,})\.html$/g,"$1")}`}get h(){return this.t.h}get o(){return this.t}get parent(){return this.t.parent}get u(){return e.get(this.h,"x","px")}get g(){return e.get(this.h,"y","px")}get l(){return{x:this.u,y:this.g}}get p(){return e.get(this.h,"rotation")}get m(){return e.get(this.h,"scale")}get $(){return this.parent?t._(this.parent.h,r.j.h,this.l):this.l}get x(){return this.$.x}get y(){return this.$.y}get rotation(){let t=0,{parent:r}=this.t;for(;r;){const s=e.get(r.h,"rotation");"number"==typeof s&&(t+=s),({parent:r}=r)}return t}get scale(){let t=1,{parent:r}=this.t;for(;r;){const s=e.get(r.h,"scale");"number"==typeof s&&(t*=s),({parent:r}=r)}return t}O(e,s){return Object.assign(Object.assign({},t._(r.j.h,this.h,null!=s?s:e.$)),{rotation:e.rotation-this.rotation,scale:e.scale/this.scale})}P(t,e=!0){this.o.D((()=>{e&&t.set(this.O(t)),$(t.h).appendTo(this.h)}))}get height(){return e.get(this.h,"height","px")}get width(){return e.get(this.h,"width","px")}get size(){return(this.height+this.width)/2}get I(){return this.height===this.width&&this.height}}