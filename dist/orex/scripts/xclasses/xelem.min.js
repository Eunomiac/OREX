var t=this&&this.t||function(t,i,e,s){return new(e||(e=Promise))((function(r,h){function n(t){try{u(s.next(t))}catch(t){h(t)}}function o(t){try{u(s.i(t))}catch(t){h(t)}}function u(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(n,o)}u((s=s.apply(t,i||[])).next())}))};import{gsap as i,MotionPathPlugin as e,U as s,XItem as r}from"../helpers/bundler.js";export default class h{constructor(t){var i,e;this.id=null!==(i=t.id)&&void 0!==i?i:`x-elem-${s.h()}`,this.o=t.o,this.u=null!==(e=t.l)&&void 0!==e?e:{},t.g||this.p()}get v(){return this.o.parent}m(){var t;if(!this.$)throw Error(`Can't retrieve element of unrendered ${null!==(t=this.constructor.name)&&void 0!==t?t:"XItem"} '${this.id}': Did you forget to await asyncRender?`)}get _(){return this.m(),this.o.element[0]}get R(){return $(this._)}p(){return t(this,void 0,void 0,(function*(){return this.j||(this.j=this.o.A(),yield this.j,this.v&&(yield this.v.p(),this.v.D(this.o,!1)),this.u.set&&this.set(this.u.set),this.u.to&&this.u.from?this.O(this.u.from,this.u.to):this.u.to?this.to(this.u.to):this.u.from&&this.from(this.u.from)),this.j}))}get $(){return this.o.P}D(t,i=!0){this.m(),t.C.m(),i&&this.set(this.I(t)),t.R.L(this._)}get T(){return s.get(this._,"x","px")}get X(){return s.get(this._,"y","px")}get k(){return{x:this.T,y:this.X}}get q(){return s.get(this._,"rotation")}get B(){return s.get(this._,"scale")}get F(){return this.v?e.G(this.v._,r.H._,this.k):this.k}get x(){return this.F.x}get y(){return this.F.y}get rotation(){let t=0,{v:i}=this;for(;i;){const e=s.get(i._,"rotation");"number"==typeof e&&(t+=e),i=i.parent}return t}get scale(){let t=1,{v:i}=this;for(;i;){const e=s.get(i._,"scale");"number"==typeof e&&(t*=e),i=i.parent}return t}get height(){return s.get(this._,"height","px")}get width(){return s.get(this._,"width","px")}get size(){return(this.height+this.width)/2}get J(){return this.height===this.width&&this.height}I(t,i){var s,h,n;return Object.assign(Object.assign({},e.G(r.H._,this._,null!==(s=null!=i?i:t.F)&&void 0!==s?s:{x:0,y:0})),{rotation:null!==(h=null==t?void 0:t.rotation)&&void 0!==h?h:0-this.rotation,scale:null!==(n=null==t?void 0:t.scale)&&void 0!==n?n:1/this.scale})}to(t){return this.m,i.to(this._,t)}from(t){return this.m,i.from(this._,t)}O(t,e){return this.m,i.O(this._,t,e)}set(t){return this.m,i.set(this._,t)}}