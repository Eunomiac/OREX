var t=this&&this.t||function(t,i,e,r){return new(e||(e=Promise))((function(s,n){function h(t){try{u(r.next(t))}catch(t){n(t)}}function o(t){try{u(r.i(t))}catch(t){n(t)}}function u(t){var i;t.done?s(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(h,o)}u((r=r.apply(t,i||[])).next())}))};import{gsap as i,MotionPathPlugin as e,U as r,XItem as s}from"../helpers/bundler.js";export default class n{constructor(t){var i;this.h=!1;const e=t.options;this.o=t,this.u=e.parent,this.l=e.style,!1!==e.g&&(null!==this.u&&(this.u=null!==(i=this.u)&&void 0!==i?i:s.p),this.v())}get m(){return this.o}get _(){return this.m.element[0]}get parent(){return this.u}get j(){return this.m.j}get P(){return this.h}get R(){return r.get(this._,"x","px")}get O(){return r.get(this._,"y","px")}get D(){return{x:this.R,y:this.O}}get I(){return r.get(this._,"rotation")}get L(){return r.get(this._,"scale")}get T(){return this.parent instanceof s?e.$(this.parent._,s.p._,this.D):this.D}get x(){return this.T.x}get y(){return this.T.y}get rotation(){let t=0,{parent:i}=this.m;for(;i instanceof s;){const e=r.get(i._,"rotation");"number"==typeof e&&(t+=e),i=({parent:i}=i)}return t}get scale(){let t=1,{parent:i}=this.m;for(;i instanceof s;){const e=r.get(i._,"scale");"number"==typeof e&&(t*=e),({parent:i}=i)}return t}get height(){return r.get(this._,"height","px")}get width(){return r.get(this._,"width","px")}get size(){return(this.height+this.width)/2}get k(){return this.height===this.width&&this.height}q(t,i){var r,n,h;return Object.assign(Object.assign({},e.$(s.p._,this._,null!==(r=null!=i?i:t.T)&&void 0!==r?r:{x:0,y:0})),{rotation:null!==(n=null==t?void 0:t.rotation)&&void 0!==n?n:0-this.rotation,scale:null!==(h=null==t?void 0:t.scale)&&void 0!==h?h:1/this.scale})}v(){return t(this,void 0,void 0,(function*(){return this.A||(this.A=this.m.B(),this.parent instanceof s&&this.parent.C(this.m,!1),this.l&&this.set(this.l)),this.A}))}F(t){return this.j?t():this.v().then(t)}C(t,i=!0){return this.F((()=>{t.F((()=>{i&&this.set(this.q(t)),$(t._).appendTo(this._)}))}))}to(t){return this.F((()=>i.to(this._,t)))}from(t){return this.F((()=>i.from(this._,t)))}G(t,e){return this.F((()=>i.G(this._,t,e)))}set(t){return this.F((()=>i.set(this._,t)))}}